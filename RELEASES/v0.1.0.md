# GitHub Release v0.1.0 â€” AGENTS.md Generator

Tag: `v0.1.0`  
Status: First public release (stable enough for real repos, intentionally conservative on auto-detect)

## What's Inside

AGENTS.md Generator is a small CLI that produces and maintains agent-facing repo docs (like `AGENTS.md` and `RUNBOOK.md`) without turning your repository into a patch battlefield.

This release includes:

- CLI (`agentsgen`) with commands:
  - `init`: generate `AGENTS.md` / `RUNBOOK.md` from templates
  - `update`: safely update only generated sections
  - `check` / `doctor`: validate markers and config
  - `detect`: infer stack and commands (`--format json` supported)
- Safe update model:
  - Updates happen only inside explicit section markers
  - If a file has no markers, the original is never modified
  - Output is written to `AGENTS.generated.md` / `RUNBOOK.generated.md`
- Auto-detect (non-AI):
  - Priority order: Makefile > `package.json` scripts > Python toolchain heuristics > empty
  - Supports simple monorepo detection (no hallucinated commands)
- Templates:
  - Stack presets: `python`, `node`, `static`
  - Shared sections: `guardrails`, `workflow`, `verification`, `style`, `repo_context`
- Tests + CI:
  - Smoke tests + unit tests with fixture repos
  - GitHub Actions runs lint + tests on PRs

## Safety Model (Why This Won't Nuke Your Docs)

Three file modes:

1. File does not exist
   - create `AGENTS.md` / `RUNBOOK.md` with section markers
2. File exists and contains AGENTSGEN markers
   - patch only content between marker pairs
3. File exists but has no markers
   - do not touch the file
   - write `AGENTS.generated.md` / `RUNBOOK.generated.md` instead

Extra safety tools:
- `--dry-run` to simulate changes
- `--print-diff` to show a unified diff before writing

## Quickstart

```sh
agentsgen init --defaults
agentsgen update --dry-run --print-diff
agentsgen update
agentsgen check
agentsgen detect
agentsgen detect --format json
```

## Known Limitations (v0.1.0)

- No AI inference: auto-detect uses file heuristics only.
- Monorepos:
  - If the root doesn't clearly represent a single stack, detection may return `mixed`.
  - Commands can be empty on purpose (better empty than wrong).
- Makefile dominance:
  - If a Makefile exists, it takes precedence even if other toolchains exist.
  - This is by design.
- Template coverage is intentionally minimal:
  - Only `python`, `node`, `static`.
- Generated-only sections:
  - The tool only owns sections inside AGENTSGEN markers.
  - Keep custom content outside markers (it will be preserved).

## Feedback / Contributions

If you hit a repo where auto-detect fails or feels wrong:
- open an issue with the minimal reproduction (or a redacted file tree), or
- contribute a fixture folder + expected behavior (fixtures are the preferred way to harden detection).

